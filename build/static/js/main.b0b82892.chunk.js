(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports=n.p+"static/media/SurgeLogo.49d7ea61.png"},125:function(e,t,n){},154:function(e,t,n){e.exports=n.p+"static/media/bank.2feaa051.jpg"},158:function(e,t,n){e.exports=n(640)},163:function(e,t,n){},639:function(e,t,n){},640:function(e,t,n){"use strict";n.r(t);var a,r=n(17),o=n(18),c=n(27),l=n(25),i=n(28),s=n(0),u=n.n(s),m=n(10),p=n.n(m),d=(n(163),n(643)),h=n(645),y=n(642),f=n(641),b=n(644),v=n(68),E=(n(103),n(99)),g=n.n(E),w=n(141),O=n(166);Object(w.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.config.setPromisesDependency(),O.config.update({accessKeyId:"AKIAJEQJRIWYYKZCO44Q",secretAccessKey:"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",region:"us-east-1"}),t=new O.S3,e.next=6,t.listObjectsV2({Bucket:"surge-app-v2",Prefix:"Product Guidelines"}).promise();case 6:return n=e.sent,console.log(n),e.next=10,t.getObject({Bucket:"surge-app-v2",Key:"Product Guidelines/data.json"},function(e,t){e?console.log(e):a=t.Body}).promise();case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("our error",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}))(),console.log(a);var j=a,k=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"getProducts",value:function(e){var t=[];for(var n in j){var a=!0,r=100,o=0,c=0,l=0;for(var i in j[n]){if(!a)break;if("object"==typeof j[n][i]){var s=j[n][i];if("loan_type"==i){var u=!1,m=e[i].toLowerCase();for(var p in"refinance"===m&&(m="Cash Out"===(m=e.purpose)?"cash-out":e[i].toLowerCase()),s)p===m&&j[n][i][p]&&(u=!0);a=!!u}else if("building_type"==i){var d=!1;for(var p in s)"single_family"===p?"house"===e[i].toLowerCase()&&j[n][i][p]&&(d=!0):"townhome"===p?"Townhome/Duplex"===e[i]&&j[n][i][p]&&(d=!0):"condominium"===p?"condominium"===e[i].toLowerCase()&&j[n][i][p]&&(d=!0):"mutli_family"===p&&"mutli-family"===e[i].toLowerCase()&&j[n][i][p]&&(d=!0);a=!!d}else if("states"===i){var h=!1;for(var p in s)p.toLowerCase()===e[i].toLowerCase()&&j[n][i][p]&&(h=!0);a=!!h}else if("credit"===i){var y=!1;for(var p in s)if(+p<+e[i]){var f=e.income,b=e.debt;c=e.downPayment,(l=e.amount)*+j[n][i][p].down_payment<+c&&b/(f/12)*100<=+j[n][i][p].dti&&(y=!0,r=+j[n][i][p].rate,o=+j[n].term),"purchase"!=e.loan_type&&(y=null==j[n][i].term||+e.term>=+j[n][i].term)}a=!!y}}else if("minimum_amount"==i||"maximum_amount"==i){var v=!1;"minimum_amount"==i&&+j[n][i]<+e.amount&&(v=!0),"maximum_amount"==i&&(null==j[n][i]&&(v=!0),+j[n][i]>+e.amount&&(v=!0)),a=!!v}else if("military"==i){var E=!1;j[n][i]&&"Yes"==e[i]?E=!0:j[n][i]||(E=!0),a=!!E}}if(a){var g={};g[n]={rate:r,term:o,downPayment:c,amount:l},t.push(g)}}if(t.length>1)for(n=1;n<t.length;n++){for(var w=t[n],O=w[Object.keys(w)],k=t[i=n-1],S=Object.keys(k),C=k[S];i>=0&&+O<+C;)t[i+1]=t[i],C=(k=t[i-=1])[S=Object.keys(k)];t[i+1]=w}return console.log(t),t.length>3?[t[0],t[1],t[2]]:t}}]),e}(),S=[{name:"1",id:"loan_type",type:"select",title:"What is your loan goal?",content:[{content:"Purchase"},{content:"Refinance"},{content:"Equity"},{content:"Reverse Mortgage"}]},{name:"2",type:"select",id:"building_type",title:"What type of property?",content:[{content:"House"},{content:"Townhome/Duplex"},{content:"Condominium"},{content:"Multi-Family"},{content:"Mobile"}],placeholder:"Enter your name"},{name:"3",type:"selinputect",id:"credit",title:"What is your current credit score?",content:"",placeholder:"Enter credit score"},{name:"4",type:"input",id:"states",title:"Which state do you reside in?",content:"",placeholder:"Enter state"},{name:"5",type:"select",id:"military",title:"Are you or your spouse in the military?",content:[{content:"Yes"},{content:"No"}]},{name:"6",type:"input",id:"amount",title:"What is the purchase price of your property?",content:"",placeholder:"Price"},{name:"7",type:"input",id:"debt",title:"On average, what is your monthly payment towards debt?",content:"",placeholder:"debt"},{name:"8",type:"input",id:"downPayment",title:"How much are you putting for a down payment?",content:"",placeholder:"downPayment"},{name:"9",type:"input",id:"income",title:"What is your household annual income?",content:"",placeholder:"income"},{name:"10",type:"select",id:"bankruptcy",title:"Have you declared bankruptcy or faced forclosure in the last 2 years?",content:[{content:"Yes"},{content:"No"}],placeholder:"bankruptcy"}],C=(n(125),d.a.Link),P=(h.a.Header,h.a.Footer,h.a.Content),N=h.a.Sider,x={labelCol:{xs:{span:16},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},L={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},A=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,t){e||console.log(t);var a=new k;n.props.onSubmit(a.getProducts(t))})},n.handleChange=function(e){var t=e.content;n.props.swap(t)},n.anchorList=function(){return S.map(function(e){var t=e.name;return u.a.createElement(C,{key:t,href:"#".concat(t),title:t})})},n.contentList=function(){return S.map(function(e,t){return n.questionType(e)})},n.questionType=function(e){var t,a=n.props.form.getFieldDecorator,r=e.name,o=e.title,c=e.id,l=e.placeholder,i=e.content;switch(e.type){case"input":t=u.a.createElement(y.a,null);break;case"select":t="1"==r?u.a.createElement("div",null,n.typeSelect1(i)):u.a.createElement("div",null,n.typeSelect(i));break;default:t=u.a.createElement(y.a,null)}return u.a.createElement(f.a.Item,Object.assign({},x,{label:r,key:r}),u.a.createElement("p",null,o),a(c,{rules:[{required:!0,message:l}]})(t))},n.typeSelect1=function(e){return e.map(function(e,t){var a=e.content;return u.a.createElement(b.a,{key:t,value:a,name:"index",onClick:function(){n.handleChange(e)}},a)})},n.typeSelect=function(e){return e.map(function(e,t){var n=e.content;return u.a.createElement(b.a,{key:t,value:n},n)})},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(h.a,{className:"content"},u.a.createElement(N,null,u.a.createElement(d.a,null,this.anchorList())),u.a.createElement(h.a,null,u.a.createElement(P,null,u.a.createElement(f.a,{onSubmit:this.handleSubmit},this.contentList(),u.a.createElement(f.a.Item,L,u.a.createElement(v.a,{type:"primary",htmlType:"submit"},"submit"))))))}}]),t}(s.Component),W=f.a.create()(A),_=n(153),R=[{name:"1",id:"loan_type",type:"select",title:"What is your loan goal?",content:[{content:"Purchase"},{content:"Refinance"},{content:"Equity"},{content:"Reverse Mortgage"}]},{name:"2",type:"select",id:"building_type",title:"What type of property?",content:[{content:"House"},{content:"Townhome/Duplex"},{content:"Condominium"},{content:"Multi-Family"},{content:"Mobile"}],placeholder:"Enter your name"},{name:"3",type:"input",id:"credit",title:"What is your current credit score?",content:"",placeholder:"Enter credit score"},{name:"4",type:"input",id:"states",title:"Which state do you reside in?",content:"",placeholder:"Enter state"},{name:"5",type:"select",id:"military",title:"Are you or your spouse in the military?",content:[{content:"Yes"},{content:"No"}]},Object(_.a)({name:"6",type:"select",id:"purpose",title:"What is your purpose for refinancing?",content:"",placeholder:"purpose"},"content",[{content:"Lower Rates/Payments"},{content:"Shorter Term"},{content:"Cash Out"}]),{name:"7",type:"input",id:"amount",title:"What is the current value of the property?",content:"",placeholder:"amount"},{name:"8",type:"input",id:"mortgage",title:"How much do you owe on your mortgage?",content:"",placeholder:"mortgage"},{name:"9",type:"input",id:"term",title:"What is your desired term length?",content:"",placeholder:"term"},{name:"10",type:"input",id:"debt",title:"On average, what is your monthly payment towards debt?",content:"",placeholder:"debt"},{name:"11",type:"input",id:"income",title:"What is your household annual income?",content:"",placeholder:"income"},{name:"12",type:"select",id:"bankruptcy",title:"Have you declared bankruptcy or faced forclosure in the last 2 years?",content:[{content:"Yes"},{content:"No"}],placeholder:"bankruptcy"}],q=d.a.Link,F=(h.a.Header,h.a.Footer,h.a.Content),T=h.a.Sider,I={labelCol:{xs:{span:16},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},Y={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},D=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,t){e||console.log(t);var a=new k;n.props.onSubmit(a.getProducts(t))})},n.handleChange=function(e){var t=e.content;n.props.swap(t)},n.anchorList=function(){return R.map(function(e){var t=e.name;return u.a.createElement(q,{key:t,href:"#".concat(t),title:t})})},n.contentList=function(){return R.map(function(e,t){return n.questionType(e)})},n.questionType=function(e){var t,a=n.props.form.getFieldDecorator,r=e.name,o=e.title,c=e.id,l=e.placeholder,i=e.content;switch(e.type){case"input":t=u.a.createElement(y.a,null);break;case"select":t="1"==r?u.a.createElement("div",null,n.typeSelect1(i)):u.a.createElement("div",null,n.typeSelect(i));break;default:t=u.a.createElement(y.a,null)}return u.a.createElement(f.a.Item,Object.assign({},I,{label:r,key:r}),u.a.createElement("p",null,o),a(c,{rules:[{required:!0,message:l}]})(t))},n.typeSelect1=function(e){return e.map(function(e,t){var a=e.content;return u.a.createElement(b.a,{key:t,value:a,name:"index",onClick:function(){n.handleChange(e)}},a)})},n.typeSelect=function(e){return e.map(function(e,t){var n=e.content;return u.a.createElement(b.a,{key:t,value:n},n)})},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(h.a,{className:"content"},u.a.createElement(T,null,u.a.createElement(d.a,null,this.anchorList())),u.a.createElement(h.a,null,u.a.createElement(F,null,u.a.createElement(f.a,{onSubmit:this.handleSubmit},this.contentList(),u.a.createElement(f.a.Item,Y,u.a.createElement(v.a,{type:"primary",htmlType:"submit"},"submit"))))))}}]),t}(s.Component),M=f.a.create()(D),H=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).changePage=function(e){e!==n.state.displayQuestions&&n.setState({displayQuestions:e})},n.state={displayQuestions:"Purchase"},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"Purchase"===this.state.displayQuestions?u.a.createElement(W,{onSubmit:this.props.onSubmit,swap:this.changePage}):u.a.createElement(M,{onSubmit:this.props.onSubmit,swap:this.changePage})}}]),t}(s.Component),Q=n(154),B=n.n(Q);n(639);function K(e){return u.a.createElement("div",{className:"mainproduct"},u.a.createElement("div",{className:"title"},"Recommended Product"),u.a.createElement(Z,{prod:e.prod,main:!0}))}function J(e){return u.a.createElement("div",{className:"alternative"},u.a.createElement("div",{className:"title"},"Alternative Products"),u.a.createElement(Z,{prod:e.prod[0],main:!1}),u.a.createElement(Z,{prod:e.prod[1],main:!1}))}function G(e,t,n){var a=12*e,r=t/12;return n/((Math.pow(1+r,a)-1)/(r*Math.pow(1+r,a)))}function Z(e){return u.a.createElement("div",{className:"product"},u.a.createElement("div",null,u.a.createElement("div",{className:"rightcol"},u.a.createElement("img",{src:B.a,alt:"bank"})),u.a.createElement($,{prod:e.prod})),u.a.createElement(V,{prod:e.prod,main:e.main}))}function $(e){if(null==e.prod)return u.a.createElement("div",{className:"leftcol"},u.a.createElement("h1",null,"Not Eligible for Additional Products"));var t,n,a,r=Object.entries(e.prod)[0];return u.a.createElement("div",{className:"leftcol"},u.a.createElement("h1",null,r[0]),u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,"Interest Rate"),u.a.createElement("td",{className:"tright"},(100*r[1].rate).toFixed(4)," %")),u.a.createElement("tr",null,u.a.createElement("td",null,"APR"),u.a.createElement("td",{className:"tright"},(100*(t=r[1].term,n=r[1].rate,a=r[1].amount,(16*G(t,n,a)*t-a)/a/t)).toFixed(4)," %")),u.a.createElement("tr",null,u.a.createElement("td",null,"Monthly Payment"),u.a.createElement("td",{className:"tright"},"$ ",G(r[1].term,r[1].rate,r[1].amount-r[1].downPayment).toFixed(2))))))}function V(e){if(e.main&&null!=e.prod){var t=Object.entries(e.prod)[0];return u.a.createElement("footer",null,"Rates are based on a $",t[1].amount," home loan with ",(t[1].downPayment/t[1].amount*100).toFixed(4),"% down.")}return null}var z=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=null,t=null,n=null;return this.props.products.length>=1&&(e=this.props.products[0]),this.props.products.length>=2&&(t=this.props.products[1]),this.props.products.length>=3&&(n=this.props.products[2]),u.a.createElement("div",{className:"productrec"},u.a.createElement("div",{className:"top"},u.a.createElement(K,{prod:e})),u.a.createElement("div",null,u.a.createElement(J,{prod:[t,n]})))}}]),t}(s.Component),U=n(102),X=n.n(U),ee=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e){n.setState({questions:!1,products:e})},n.state={questions:!0,products:[]},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.questions?u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"App-header"},u.a.createElement("div",{className:"logo"},u.a.createElement("img",{src:X.a,alt:"Surge Solutions Logo"})),u.a.createElement("div",{className:"Sub-header"},"Product Recommendation")),u.a.createElement(H,{onSubmit:this.handleSubmit})):u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"App-header"},u.a.createElement("div",{className:"logo"},u.a.createElement("img",{src:X.a,alt:"Surge Solutions Logo"})),u.a.createElement("div",{className:"Sub-header"},"Product Recommendation")),u.a.createElement(z,{products:this.state.products}))}}]),t}(s.Component);p.a.render(u.a.createElement(ee,null),document.getElementById("root"))},74:function(e,t){}},[[158,1,2]]]);
//# sourceMappingURL=main.b0b82892.chunk.js.map